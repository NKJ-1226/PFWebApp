<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>カテゴリー編集</title>

    <!-- Bootstrap 5 のCSS（CDN経由で読み込む） -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">

</head>
<body>

    <div class="container mt-4 w-75">
        <header class="mb-4 bg-light p-3 rounded">
            <div class="d-flex justify-content-between align-items-center">
                <h1 class="h4 m-0">カテゴリー編集</h1>
                <a href="/category_list" class="btn btn-outline-secondary btn-sm">カテゴリ一覧に戻る</a>
            </div>
        </header>
    </div>

    <div class="container mt-4">
        <form th:action="@{/category/update}" method="post">
            
            <input type="hidden" th:name="id" th:value="${category.id}" />
            
            <div class="mb-3">
                <label for="name" class="form-label">カテゴリ名</label>
                <input type="text" class="form-control" id="name" th:name="name" th:value="${category.name}" required />
                <div id="categorynameError" style="color: red; display: none;">255文字以内で入力してください。</div>
            </div>
            
            <button type="submit" class="btn btn-primary">更新</button>
        </form>
    </div>

    
    <script>
    document.addEventListener("DOMContentLoaded", () => {
        const categoryInput = document.getElementById("name");
        const categoryError = document.getElementById("categorynameError");

        categoryInput.addEventListener("input", () => {
            if (categoryInput.value.length > 255) {
                categoryError.style.display = "block";
                categoryInput.setCustomValidity("255文字以内で入力してください。");
            } else {
                categoryError.style.display = "none";
                categoryInput.setCustomValidity("");
            }
        });
    });
    </script>
</body>
</html>
